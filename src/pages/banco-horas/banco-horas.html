<!--
  Generated template for the BancoHorasPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content>
  <ion-card class="form-card">
    <ion-grid>
      <ion-row>
        <ion-col>
          <p class="form-card-label">Informe o mes de referencia</p>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-10>
          <ion-item>
            <ion-select [(ngModel)]="actualMonth" placeholder="Selecione o mês">
              <ion-option *ngFor="let month of monthsSelectBox" [selected]="month === actualMonth" [value]="month">{{month}}</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>

        <ion-col col-2>

          <button (click)="changeMonthDataTimeInfo()" class="bt-search" block color="light" block ion-button icon-only>
              <ion-icon name="search"></ion-icon>
            </button>
        </ion-col>

      </ion-row>
    </ion-grid>
  </ion-card>

  <ion-card class="table-card" padding>
    <ion-grid>
      <ion-row>
        <ion-col col-12 class="table-card-title">
          <p>Horas Extras</p>
        </ion-col>
      </ion-row>
    </ion-grid>

    <ion-grid>
      <ion-row>

        <ion-col text-center class="table-card-header">
          <p>Data</p>
        </ion-col>

        <ion-col text-center class="table-card-header">
          <p>Entrada</p>
        </ion-col>

        <ion-col text-center class="table-card-header">
          <p>Saida</p>
        </ion-col>

        <ion-col text-center class="table-card-header">
          <p>Extra</p>
        </ion-col>
      </ion-row>

      <div *ngIf="dataBaseTimeInfo && dataBaseTimeInfo.positivePoints">

        <ion-row *ngFor="let point of dataBaseTimeInfo.positivePoints">
          <ion-col text-center class="table-card-data">
            <p>{{point.datePointString}}</p>
          </ion-col>

          <ion-col text-center class="table-card-data">
            <p>{{("00"+point.startTime.getHours()).slice(-2)}}:{{("00"+point.startTime.getMinutes()).slice(-2)}}</p>
          </ion-col>

          <ion-col text-center class="table-card-data">
            <p>{{("00"+point.endTime.getHours()).slice(-2)}}:{{("00"+point.endTime.getMinutes()).slice(-2)}}</p>
          </ion-col>

          <ion-col text-center class="table-card-data">
            <p>{{point.overTime}} Min</p>
          </ion-col>
        </ion-row>

      </div>

      <!-- exibir esta camada de codigo caso não haja registro.
      <ion-row *ngIf="!dataBaseTimeInfo">
        <ion-col text-center col-12 class="table-card-data">
          <p>Nenhum dado para o periodo informado.</p>
        </ion-col>
      </ion-row>
      -->

      <ion-row class="table-card-footer">
        <ion-col style="text-align: right" col-9 class="table-card-footer-data">
          <p>Total:</p>
        </ion-col>

        <ion-col text-center col-3 class="table-card-footer-data">
          <p *ngIf="dataBaseTimeInfo">{{dataBaseTimeInfo.sumPositives}} Min</p>
        </ion-col>

      </ion-row>
    </ion-grid>

  </ion-card>


  <ion-card class="table-card" padding>
    <ion-grid>
      <ion-row>
        <ion-col col-12 class="table-card-title">
          <p>Divida de hora</p>
        </ion-col>
      </ion-row>
    </ion-grid>

    <ion-grid>

      <ion-row>

        <ion-col text-center class="table-card-header">
          <p>Data</p>
        </ion-col>

        <ion-col text-center class="table-card-header">
          <p>Entrada</p>
        </ion-col>

        <ion-col text-center class="table-card-header">
          <p>Saida</p>
        </ion-col>

        <ion-col text-center class="table-card-header">
          <p>Divida</p>
        </ion-col>
      </ion-row>

      <div *ngIf="dataBaseTimeInfo && dataBaseTimeInfo.negativePoints">

        <ion-row *ngFor="let point of dataBaseTimeInfo.negativePoints">
          <ion-col text-center class="table-card-data">
            <p>{{point.datePointString}}</p>
          </ion-col>

          <ion-col text-center class="table-card-data">
            <p>{{("00"+point.startTime.getHours()).slice(-2)}}:{{("00"+point.startTime.getMinutes()).slice(-2)}}</p>
          </ion-col>

          <ion-col text-center class="table-card-data">
            <p>{{("00"+point.endTime.getHours()).slice(-2)}}:{{("00"+point.endTime.getMinutes()).slice(-2)}}</p>
          </ion-col>

          <ion-col text-center class="table-card-data">
            <p>- {{point.overTime}} Min</p>
          </ion-col>
        </ion-row>
      </div>


      <!-- exibir esta camada de codigo caso não haja registro.
      <ion-row *ngIf="!dataBaseTimeInfo">
        <ion-col text-center col-12 class="table-card-data">
          <p>Nenhum dado para o periodo informado.</p>
        </ion-col>
      </ion-row>-->

      <ion-row class="table-card-footer">
        <ion-col style="text-align: right" col-9 class="table-card-footer-data">
          <p>Total:</p>
        </ion-col>

        <ion-col text-center col-3ionic cordova plugin add cordova-plugin-screen-orientation class="table-card-footer-data">
          <p *ngIf="dataBaseTimeInfo">- {{dataBaseTimeInfo.sumNegatives}} Min</p>
        </ion-col>
      </ion-row>
    </ion-grid>

  </ion-card>

  <ion-grid>
    <ion-row>
      <ion-col col-4 offset-4>
        <button (click)="backMenu()" class="bt-back" ion-button color="secondary" large block>Voltar</button>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>